(window.webpackJsonp=window.webpackJsonp||[]).push([[14,27,28,29],{314:function(e,n,t){},316:function(e,n,t){},318:function(e,n,t){"use strict";t.r(n);t(169),t(319);var i=t(312),a=t(317);Object(i.c)("alpha",a.a),Object(i.c)("length",a.e),Object(i.c)("max",a.f),Object(i.c)("min",a.g),Object(i.c)("numeric",a.h),Object(i.c)("regex",a.i),Object(i.c)("required",a.j);var r={name:"FieldInput",data:function(){return{cache:null}},mounted:function(){this.cache=this.value},watch:{value:function(e){this.cache=e}},model:{prop:"value",event:"change"},props:{alias:{type:String,required:!0},name:{type:String,required:!0},type:{type:String,required:!0,validator:function(e){return["text","file"].includes(e)}},value:{required:!0},rules:{type:[String,Object],required:!0},placeholder:{type:String,default:""},description:{type:String,default:""}},methods:{updateCache:function(e){this.cache=e},publish:function(){var e=this;this.$refs.field.validate(this.cache).then((function(n){n.valid?e.$emit("change",e.cache.trim()):e.$emit("change","")}))}},components:{ValidationProvider:i.b}},s=(t(321),t(45)),o=Object(s.a)(r,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"field"},[t("ValidationProvider",{ref:"field",attrs:{name:e.name,rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.changed,a=n.errors;return[t("label",{class:a.length>0?"invalid":i?"valid":"",attrs:{for:"generator-"+e.alias}},[e._v("\n      "+e._s(e.name)+"\n    ")]),e._v(" "),t("input",{class:a.length>0?"invalid":i?"valid":"",attrs:{type:e.type,name:e.alias,id:"generator-"+e.alias,placeholder:e.placeholder},domProps:{value:e.cache},on:{input:function(n){return e.updateCache(n.target.value)},blur:function(n){return e.publish()}}}),e._v(" "),a.length<1?t("small",[e._t("description",[e._v(e._s(e.description))])],2):t("small",{staticClass:"error"},[e._v(e._s(a[0]))])]}}],null,!0)})],1)}),[],!1,null,"2865d001",null);n.default=o.exports},321:function(e,n,t){"use strict";t(314)},322:function(e,n,t){"use strict";t.r(n);var i={name:"LanguageSwitch",data:function(){return{selected:this.languages[0].uuid}},props:{languages:{type:Array,required:!0},values:{type:Object,required:!0}},created:function(){var e=this;this.$watch("languages",(function(){e.selected=e.languages[0].uuid}),{deep:!0})},methods:{switchLanguage:function(e){this.selected=e}}},a=(t(325),t(45)),r=Object(a.a)(i,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e.languages.length>1?t("ul",{staticClass:"switch"},e._l(e.languages,(function(n){return t("li",{key:n.uuid,class:{selected:n.uuid===e.selected,filled:!!e.values[n.uuid]}},[t("button",{attrs:{title:n.name},on:{click:function(t){return t.preventDefault(),e.switchLanguage(n.uuid)}}},[e._v("\n        "+e._s(n.code)+"\n      ")])])})),0):e._e(),e._v(" "),e._t("default",null,{selected:e.selected})],2)}),[],!1,null,"12cabd62",null);n.default=r.exports},324:function(e,n,t){},325:function(e,n,t){"use strict";t(316)},329:function(e,n,t){},330:function(e,n,t){"use strict";t.r(n);var i=t(312),a=t(317);Object(i.c)("required",a.j);var r={name:"FieldSelect",model:{prop:"value",event:"change"},props:{alias:{type:String,required:!0},name:{type:String,required:!0},value:{required:!0},options:{type:Array,required:!0},rules:{type:[String,Object],required:!0},placeholder:{type:String,default:""},description:{type:String,default:""}},components:{ValidationProvider:i.b}},s=(t(332),t(45)),o=Object(s.a)(r,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"field"},[t("ValidationProvider",{attrs:{name:e.name,rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.changed,a=n.errors;return[t("label",{class:a.length>0?"invalid":i?"valid":"",attrs:{for:"generator-"+e.alias}},[e._v("\n      "+e._s(e.name)+"\n    ")]),e._v(" "),t("select",{class:a.length>0?"invalid":i?"valid":"",attrs:{name:e.alias,id:"generator-"+e.alias,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(n){return e.$emit("change",n.target.value)}}},e._l(e.options,(function(n,i){return t("option",{domProps:{value:n.value}},[e._v(e._s(n.name))])})),0),e._v(" "),a.length<1?t("small",[e._t("description",[e._v(e._s(e.description))])],2):t("small",{staticClass:"error"},[e._v(e._s(a[0]))])]}}],null,!0)})],1)}),[],!1,null,"5d401f20",null);n.default=o.exports},332:function(e,n,t){"use strict";t(324)},343:function(e,n,t){"use strict";t(329)},348:function(e,n,t){"use strict";t.r(n);t(169);var i=t(312),a=t(317);Object(i.c)("dimensions",a.b),Object(i.c)("ext",a.c),Object(i.c)("image",a.d),Object(i.c)("size",a.k);var r={name:"FieldFile",model:{prop:"value",event:"change"},props:{alias:{type:String,required:!0},name:{type:String,required:!0},value:{required:!0},rules:{type:[String,Object],required:!0},description:{type:String,default:""},preview:{type:String,default:"image",validator:function(e){return["image","configuration"].includes(e)}},returnType:{type:String,default:"data-url",validator:function(e){return["data-url","text"].includes(e)}}},mounted:function(){this.$i18n.locale=this.$lang},methods:{upload:function(e){var n=this;if(void 0!==e.target.files&&void 0!==e.target.files[0]){var t=e.target.files[0],i=new FileReader;i.onload=function(){n.$emit("change",i.result)},"data-url"===this.returnType?i.readAsDataURL(t):"text"===this.returnType&&i.readAsText(t)}}},components:{ValidationProvider:i.b},i18n:{messages:{"en-US":{clear:"Clear",preview:{image:{empty:"No image"},configuration:{empty:"No file"}}},"de-DE":{clear:"Leeren",preview:{image:{empty:"Keine Grafik"},configuration:{empty:"Keine Datei"}}}}}},s=(t(343),t(45)),o=Object(s.a)(r,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"field"},[t("div",{staticClass:"input"},[t("ValidationProvider",{attrs:{name:e.name,rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.changed,a=n.errors;return[t("label",{class:a.length>0?"invalid":i?"valid":"",attrs:{for:"generator-"+e.alias}},[e._v("\n        "+e._s(e.name)+"\n      ")]),e._v(" "),t("input",{class:a.length>0?"invalid":i?"valid":"",attrs:{type:"file",name:e.alias,id:"generator-"+e.alias},on:{input:function(n){return e.upload(n)}}}),e._v(" "),a.length<1?t("small",[e._t("description",[e._v(e._s(e.description))])],2):t("small",{staticClass:"error"},[e._v(e._s(a[0]))]),e._v(" "),e.value?t("button",{staticClass:"small clear",on:{click:function(n){return e.$emit("change",null)}}},[e._v("\n        "+e._s(e.$t("clear"))+"\n      ")]):e._e()]}}],null,!0)})],1),e._v(" "),t("div",{staticClass:"preview"},["image"===e.preview?t("div",{staticClass:"preview__image"},[e.value?t("img",{attrs:{src:e.value}}):t("div",{staticClass:"placeholder"},[e._v(e._s(e.$t("preview.image.empty")))])]):"configuration"===e.preview?t("div",{staticClass:"preview__configuration"},[e.value?t("Icon",{attrs:{name:"file"}}):t("div",{staticClass:"placeholder"},[e._v(e._s(e.$t("preview.configuration.empty")))])],1):e._e()])])}),[],!1,null,"4df8c0e1",null);n.default=o.exports},487:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAulBMVEX/0BwAAABXRwrKpRYYFAMCAgABAQANCwH+zxz7zRyoiRLHohbiuBmggxL6zBs8MQfluxkRDgKniBLXrxj9zhx/aA4ZFAP8zhzJpBYWEgIwJwU9MgfLphZYSAorIwX1yBs2LAaBaQ4+MwdlUgtoVQsQDQIXEwOfghHetRiCag4kHQQMCgFWRgnhuBmxkBM1KwbuwhqZfREsJAXYsBgHBgEJBwFaSQq3lRQDAgBDNwfyxRutjROPdRDjuRkfm3LvAAAAvklEQVR4XtWQx6oEIRQF71E7T84555xeDP//WyNNL1qxXczAwKvdoQouSv+JHBNIIVhO82VolNWCocvTmxfRVwIBTgotNJQNkAbwRDDulKxBHQ43B8Nm4ivmE1WPBYnPCsCCxJtPRB4GcELLK2QhvSWgqB2SNSD/4Z8U4PaAYdJTfAlC2fs54EpG+UK8C1PMSC12C8Qs5VitN9hy0vBrkgOOp3MRwOVKRnzgBry9fwSUwSfcr/w3ZfPz+0ev5g6zmwncaXI+jQAAAABJRU5ErkJggg=="},488:function(e,n){e.exports="data:image/svg+xml;base64,PHN2ZyBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjIiIHZpZXdCb3g9IjAgMCAxMzQgMTM0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Im0wIDBoMTMzLjMzM3YxMzMuMzMzaC0xMzMuMzMzeiIgZmlsbD0iI2ZmZDAxYyIvPjxwYXRoIGQ9Im05MS42NjcgMjAuODMzYzkuMjA0IDAgMTYuNjY2IDcuNDYyIDE2LjY2NiAxNi42Njd2NTUuMDJjMCA3LjAwOC00LjM4MyAxMy4yNjctMTAuOTY5IDE1LjY2M2wtMjkuMjczIDEwLjY0OGMtMi4xNjMuNzg3LTQuNTUzLS4zMjktNS4zNC0yLjQ5MS0uMTY2LS40NTctLjI1MS0uOTM5LS4yNTEtMS40MjV2LTYuNTU1YzAtMi4zMDItMS44NjYtNC4xNjctNC4xNjctNC4xNjdoLTE2LjY2NmMtOS4yMDUgMC0xNi42NjctNy40NjItMTYuNjY3LTE2LjY2N3YtNTAuMDI2YzAtOS4yMDUgNy40NjItMTYuNjY3IDE2LjY2Ny0xNi42Njd6bTIuODQ4IDc5LjUxOWMzLjI5My0xLjE5OCA1LjQ4NS00LjMyOCA1LjQ4NS03LjgzMnYtNTUuMDJjMC00LjYwMi0zLjczMS04LjMzMy04LjMzMy04LjMzM2gtNTBjLTQuNjAzIDAtOC4zMzQgMy43MzEtOC4zMzQgOC4zMzN2NTAuMDI2YzAgNC42MDMgMy43MzEgOC4zMzQgOC4zMzQgOC4zMzRoMTYuNjY2YzYuOTA0IDAgMTIuNSA1LjU5NiAxMi41IDEyLjV2LjYwNnptLTMzLjc0NC0yMS4wNDdjLS41MzMgMC0xLjA2Ni0uMjAzLTEuNDcyLS42MDlsLTE0Ljc0LTE0LjcyMmMtLjgxNC0uODEzLS44MTUtMi4xMzItLjAwMi0yLjk0Ni4wMDEtLjAwMS4wMDItLjAwMS4wMDItLjAwMmwyLjk0OC0yLjk0NGMuODEzLS44MTMgMi4xMzEtLjgxMyAyLjk0NCAwbDEwLjMyIDEwLjMwNyAyMi4xMTEtMjIuMDg1Yy44MTMtLjgxMyAyLjEzMS0uODEzIDIuOTQ0IDBsMi45NDggMi45NDRjLjgxNC44MTMuODE1IDIuMTMyLjAwMiAyLjk0Ny0uMDAxIDAtLjAwMS4wMDEtLjAwMi4wMDFsLTI2LjUzMSAyNi41Yy0uNDA3LjQwNi0uOTM5LjYwOS0xLjQ3Mi42MDl6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4="},489:function(e,n){e.exports="data:image/png;base64,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"},490:function(e,n,t){var i={"./ar.json":[497,67],"./az.json":[498,68],"./bn.json":[499,69],"./de.json":[500,70],"./el.json":[501,71],"./en.json":[502,72],"./es.json":[503,73],"./fa.json":[504,74],"./fr.json":[505,75],"./ha.json":[506,76],"./he.json":[507,77],"./hi.json":[508,78],"./hr.json":[509,79],"./hu.json":[510,80],"./id.json":[511,81],"./it.json":[512,82],"./ja.json":[513,83],"./ko.json":[514,84],"./ml.json":[515,85],"./pl.json":[516,86],"./pt.json":[517,87],"./ro.json":[518,88],"./ru.json":[519,89],"./rw.json":[520,90],"./sk.json":[521,91],"./sr.json":[522,92],"./sw.json":[523,93],"./th.json":[524,94],"./tr.json":[525,95],"./uk.json":[526,96],"./vi.json":[527,97],"./zh.json":[528,98]};function a(e){if(!t.o(i,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=i[e],a=n[0];return t.e(n[1]).then((function(){return t.t(a,3)}))}a.keys=function(){return Object.keys(i)},a.id=490,e.exports=a},491:function(e,n,t){var i={"./ar.json":[529,34],"./az.json":[530,35],"./bn.json":[531,36],"./de.json":[532,37],"./el.json":[533,38],"./en.json":[534,39],"./es.json":[535,40],"./fa.json":[536,41],"./fr.json":[537,42],"./ha.json":[538,43],"./he.json":[539,44],"./hi.json":[540,45],"./hr.json":[541,46],"./hu.json":[542,47],"./id.json":[543,48],"./it.json":[544,49],"./ja.json":[545,50],"./ko.json":[546,51],"./ml.json":[547,52],"./nl.json":[548,53],"./pl.json":[549,54],"./pt.json":[550,55],"./ro.json":[551,56],"./ru.json":[552,57],"./rw.json":[553,58],"./sk.json":[554,59],"./sr.json":[555,60],"./sw.json":[556,61],"./th.json":[557,62],"./tr.json":[558,63],"./uk.json":[559,64],"./vi.json":[560,65],"./zh.json":[561,66]};function a(e){if(!t.o(i,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=i[e],a=n[0];return t.e(n[1]).then((function(){return t.t(a,3)}))}a.keys=function(){return Object.keys(i)},a.id=491,e.exports=a},563:function(e,n,t){"use strict";t.r(n);var i=t(448),a=t(65),r=(t(114),t(99),t(68),t(95),t(96),t(188),t(10),t(12),t(16),t(380),t(28),t(29),t(374),t(492)),s=t(449),o=t.n(s),l=t(428),c=t(453),u=t.n(c),d=t(456),p=t.n(d),g=t(192),f=t.n(g),h=t(479),m=t.n(h),v=t(481),w=t.n(v),j=t(493),b=t(312),M=t(390),y=t(391),x=t(348),A=t(318),L=t(330),k=t(322),S=t(485),z=t(486),N=t(487),E=t.n(N),O=t(488),D=t.n(O),I=t(489),R=t.n(I);Object(b.d)({de:M,en:y});var C={name:"Generator",components:{FieldFile:x.default,FieldInput:A.default,FieldSelect:L.default,LanguageSwitch:k.default,ValidationObserver:b.a},data:function(){return{rawConfigurationFile:null,configuration:null,store:{description:{},title:{},kioskMode:"off",friendsEnabled:"on",friendsHost:"friends.open-election-compass.com",friendsPort:443,friendsPath:null,openGraphImage:null,openGraphUrl:null,extractLanguages:"off",mainLanguage:null},resultBlobUrl:null}},mounted:function(){Object(b.d)(this.$lang.substring(0,2)),this.$watch("rawConfigurationFile",this.parseRawConfigurationFile),this.$watch("configuration",this.generate),this.$watch("store",this.generate,{deep:!0}),this.$watch("store.extractLanguages",this.setDefaultMainLanguage),this.$i18n.locale=this.$lang},computed:{languages:function(){return this.configuration&&this.configuration&&Array.isArray(this.configuration.languages)?this.configuration.languages.map((function(e){return e.uuid=Object(l.a)(),e})):[]},multilingualConfigurationPaths:function(){var e=this;if(null===this.configuration)return[];for(var n=["title","subtitle","introduction.heading","introduction.text","analysis.survey","analysis.institution"],t=0;t<this.configuration.parties.length;t++)n.push("parties.".concat(t,".name")),n.push("parties.".concat(t,".short")),n.push("parties.".concat(t,".description"));for(var i=function(t){n.push("theses.".concat(t,".title")),n.push("theses.".concat(t,".statement")),e.configuration.parties.forEach((function(e){n.push("theses.".concat(t,".positions.").concat(e.alias,".explanation"))}))},a=0;a<this.configuration.theses.length;a++)i(a);return n}},methods:{setDefaultMainLanguage:function(){this.store.mainLanguage=this.configuration.languages[0].uuid},getUiLocales:function(e){return Object(a.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(490)("./".concat(e,".json"));case 2:return n.abrupt("return",n.sent.default.ui);case 3:case"end":return n.stop()}}),n)})))()},getClientLocales:function(e){return Object(a.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(491)("./".concat(e,".json"));case 2:return n.abrupt("return",n.sent.default);case 3:case"end":return n.stop()}}),n)})))()},extractLanguageFromConfiguration:function(e,n){var t={};return this.multilingualConfigurationPaths.forEach((function(i){var a="".concat(i,".").concat(n);m()(t,i,f()(e,a)),w()(e,a)})),t},parseRawConfigurationFile:function(){"string"==typeof this.rawConfigurationFile?this.configuration=JSON.parse(this.rawConfigurationFile):this.configuration=null},generate:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function n(){var t,a,s,l,c,d,g,f,h,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.configuration){n.next=2;break}return n.abrupt("return",e.resultBlobUrl=null);case 2:if(console.log("Generating..."),t=p()(e.configuration),!(e.languages.length<=0||"string"!=typeof e.languages[0].code)){n.next=6;break}return n.abrupt("return",e.resultBlobUrl=null);case 6:a=[],s=Object(i.a)(e.languages),n.prev=8,c=regeneratorRuntime.mark((function n(){var i,r,s,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=l.value,n.next=3,e.getUiLocales(i.code);case 3:return n.t0=n.sent,n.next=6,e.getClientLocales(i.code);case 6:n.t1=n.sent,r={ui:n.t0,client:n.t1},"on"===e.store.extractLanguages&&i.uuid!==e.store.mainLanguage&&(r.content=e.extractLanguageFromConfiguration(t,i.code)),i.overwrites&&(s=i.overwrites.ui||{},w()(i,"overwrites.ui"),o=i.overwrites,u()(r.ui,s),u()(r.client,o)),c=t.languages.find((function(e){return e.code===i.code})),"on"===e.store.extractLanguages&&i.uuid!==e.store.mainLanguage?c["load-from-url"]="./oec-locale-".concat(i.code,".json"):c["load-from-tag"]="#oec-locales-".concat(i.code),w()(c,"overwrites"),a.push({code:i.code,uuid:i.uuid,json:JSON.stringify(r)});case 14:case"end":return n.stop()}}),n)})),s.s();case 11:if((l=s.n()).done){n.next=15;break}return n.delegateYield(c(),"t0",13);case 13:n.next=11;break;case 15:n.next=20;break;case 17:n.prev=17,n.t1=n.catch(8),s.e(n.t1);case 20:return n.prev=20,s.f(),n.finish(20);case 23:d=a.find((function(n){return n.uuid===e.store.mainLanguage})),g=r.render('<!DOCTYPE html>\n<html lang="<%= it.defaultLanguage.code %>">\n  <head>\n    <meta charset="utf-8">\n    <title><%= it.title[it.defaultLanguage.uuid] %></title>\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <% it.languages.forEach(({ code, uuid }) => { %>\n      <meta name="description" lang="<%= code %>" content="<%= it.description[uuid] %>">\n    <% }) %>\n    <meta property="og:title" content="<%= it.title[it.defaultLanguage.uuid] %>">\n    <meta property="og:description" content="<%= it.description[it.defaultLanguage.uuid] %>">\n    <% if (it.openGraphImage) { %>\n      <meta property="og:image" content="<%= it.openGraphImage %>">\n    <% } %>\n    <% if (it.openGraphUrl) { %>\n      <meta property="og:url" content="<%= it.openGraphUrl %>">\n    <% } %>\n    <link rel="icon" type="image/svg+xml" href="<%= it.faviconVector %>">\n    <link rel="alternate icon" type="image/png" sizes="32x32" href="<%= it.faviconPixel %>">\n    <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="<%= it.faviconApple %>">\n    <meta name="theme-color" content="#d69e2e">\n    <meta name="generator" content="OpenElectionCompass v1.0.0-beta.8">\n    <style>\n      <%~ it.style %>\n    </style>\n  </head>\n  <body>\n    <div id="open-election-compass">\n      <%~\n        it.tag(\'open-election-compass\', {\n          \'load-tag\': \'#oec-content\',\n          \'kiosk-mode\': it.kioskMode === \'on\',\n          \'friends\': it.friendsEnabled === \'on\',\n          \'friends-host\': it.friendsEnabled === \'on\' && it.friendsHost ? it.friendsHost : false,\n          \'friends-port\': it.friendsEnabled === \'on\' && it.friendsPort ? it.friendsPort : false,\n          \'friends-path\': it.friendsEnabled === \'on\' && it.friendsPath ? it.friendsPath : false,\n        }, false)\n      %>\n    </div>\n    <script>\n      <%~ it.library %>\n    <\/script>\n    <script type="application/json" id="oec-content">\n      <%~ it.configuration %>\n    <\/script>\n    <% it.locales.forEach((locale) => { %>\n      <script type="application/json" id="oec-locales-<%~ locale.code %>">\n        <%~ locale.json %>\n      <\/script>\n    <% }) %>\n    <% if (it.extractLanguages === \'on\' && it.mainLocale) { %>\n      <script type="application/json" id="oec-locales-<%~ it.mainLocale.code %>">\n        <%~ it.mainLocale.json %>\n      <\/script>\n    <% } %>\n  </body>\n</html>',{tag:o.a,languages:e.languages,defaultLanguage:e.languages[0],kioskMode:e.store.kioskMode,friendsEnabled:e.store.friendsEnabled,friendsHost:e.store.friendsHost,friendsPort:e.store.friendsPort,friendsPath:e.store.friendsPath,title:e.store.title,description:e.store.description,openGraphImage:e.store.openGraphImage,openGraphUrl:e.store.openGraphUrl,extractLanguages:e.store.extractLanguages,mainLanguage:e.store.mainLanguage,locales:a,mainLocale:d,faviconPixel:E.a,faviconVector:D.a,faviconApple:R.a,library:S.a,style:z.a,configuration:JSON.stringify(t)}),"on"===e.store.extractLanguages?(f={"index.html":Object(j.a)(g)},a.forEach((function(n){n.uuid!==e.store.mainLanguage&&(f["oec-locale-".concat(n.code,".json")]=Object(j.a)(n.json))})),h=Object(j.b)(f),e.resultBlobUrl=URL.createObjectURL(new Blob([h],{type:"application/zip"}))):(m=new Blob([g],{type:"text/html"}),e.resultBlobUrl=URL.createObjectURL(m));case 26:case"end":return n.stop()}}),n,null,[[8,17,20,23]])})))()}},i18n:{messages:{"en-US":{file:"1. Upload configuration file",options:"2. Options",seo:"3. Search engine settings",languages:"4. Languages",download:"Download",filename:{html:"election-compass.html",zip:"election-compass.zip"},fields:{title:{name:"Title",description:"The title will be displayed in the browser tab. Use something descriptive and to the point. 50 - 60 characters are perfect for search results.",placeholder:"Election Compass, Hogwarts 1993"},description:{name:"Description",description:"The description is displayed as the excerpt in search results and in the preview of many social media platforms. Use it to advertise your service. 50 - 160 characters work best.",placeholder:"The parties have declared their position – now it is your turn to vote on the most important political decisions for the years to come."},kioskMode:{name:"Kiosk Mode",description:"Activate the Kiosk Mode if you want to display your election compass in a public place. The system will show an option to restart the election compass at any time and will do so automatically after a certain time of inactivity.",options:{off:"disabled",on:"enabled"}},friendsEnabled:{name:"Shared Sessions aka Friends (Multiplayer Mode)",description:"Activate Shared Sessions to allow users to connect to friends using a secure and direct peer-to-peer connection.",options:{off:"disabled",on:"enabled"}},friendsHost:{name:"Server for Shared Sessions, Hostname",description:"For browsers to find each other and establish a peer-to-peer connection for Shared Sessions, they need a signalling server. The actual data is transferred directly from browser to browser to avoid privacy issues. The OpenElectionCompass project maintains such a server, but you can also host your own using Peer.js.",placeholder:"friends.open-election-compass.com"},friendsPort:{name:"Server for Shared Sessions, Port",placeholder:"9000"},friendsPath:{name:"Server for Shared Sessions, Path",placeholder:"/"},openGraphImage:{name:"Open Graph Image",description:"Many social networks support a standard called Open Graph. This allows you to provide content that is used to provide a preview whenever someone shares a link to your election compass on Facebook, Twitter, etc. The preview typically consists of a title, description and optionally an image. If you have a suiting image, make it publicly available on a webserver and enter the URL here. Use a 1200 x 630 px graphic, preferably PNG.",placeholder:"https://example.com/election-compass/social-media-image.png"},openGraphUrl:{name:"Open Graph Url",description:"To make sure, the correct URL is used on various social media platforms, you can set the URL where your election compass will be available.",placeholder:"https://example.com/election-compass"},"extract-languages":{name:"Extract translations",options:{yes:"Yes",no:"No"},description:"By default, all translations are embedded into the HTML file. If you're using many languages it is recommended to extract all languages but the default one. This will generate additional files that will be loaded on demand."},"main-language":{name:"Default language",description:"The translations of the default language will still be embedded, all other will be extracted."},configuration:{name:"Configuration file",description:"A configuration file in the JSON file format. You can write one from scratch, or you can use the Configuration Editor."}}},"de-DE":{file:"1. Konfigurationsdatei hochladen",options:"2. Suchmaschinen-Einstellungen",seo:"3. Suchmaschinen-Einstellungen",languages:"4. Sprachen",download:"Herunterladen",filename:"wahlkompass.html",fields:{title:{name:"Titel",description:"Der Titel wird im Browser-Tab angezeigt. Verwende etwas aussagekräftiges und präzises. 50 - 60 Zeichen sind perfekt für Suchergebnisse.",placeholder:"Wahlkompass, Hogwarts 1993"},description:{name:"Beschreibung",description:"Die Beschreibung wird als Auszug in den Suchergebnissen und als Vorschau in sozialen Netzwerken angezeigt. Verwende sie um dein Angebot zu bewerben. 50 - 160 Zeichen funktionieren am besten.",placeholder:"Die Parteien haben ihre Positionen bestimmt – nun bist du an der Reihe! Stimme ab über die wichtigsten politischen Entscheidungen der kommenden Jahre."},kioskMode:{name:"Kiosk Modus",description:"Aktiviere den Kiosk Modus, falls du deinen Wahlkompass an einem öffentlichen Ort ausstellen möchtest. Das System wird eine Möglichkeit zum Zurücksetzen des Wahlkompasses anbieten und diese nach einer bestimmten Inaktivitätsperiode auch automatisch ausführen.",options:{off:"deaktiviert",on:"aktiviert"}},friendsEnabled:{name:"Gemeinsame Sitzungen aka Freunde (Multiplayer Modus)",description:"Aktiviere Gemeinsame Sitzungen und ermögliche Besucher:innen eine sichere und direkte Peer-to-Peer Verbindung mit Freund:innen herzustellen.",options:{off:"deaktiviert",on:"activiert"}},friendsHost:{name:"Server für Gemeinsame Sitzungen, Hostname",description:"Damit Browser sich gegenseitig finden und eine Peer-to-Peer Verbindung für eine Gemeinsame Sitzung aufbauen können, benötigen sie einen Signalling Server. Die eigentlichen Daten werden direkt von Browser an Browser übertragen um Datenschutzprobleme zu vermeiden. Das OpenElectionCompass Projekt betreibt einen solchen Server, du kannst jedoch mit Peer.js auch deinen eigenen aufsetzen.",placeholder:"friends.open-election-compass.com"},friendsPort:{name:"Server für Gemeinsame Sitzungen, Port",placeholder:"9000"},friendsPath:{name:"Server für Gemeinsame Sitzungen, Path",placeholder:"/"},openGraphImage:{name:"Open Graph Grafik",description:"Viele soziale Netzwerke unterstützen einen Standard namens Open Graph. Dies ermöglicht es dir, Inhalte bereitzustellen, welche für eine Vorschau deines Wahlkompasses verwendet werden, wann immer jemand einen Link zu deinem Wahlkompass auf Facebook, Twitter und Co. teilt. Die Vorschau besteht aus einem Titel, einer Beschreibung und einem optionalen Bild. Wenn du ein geeignetes Bild zur Hand hast, mache es auf einem Webserver öffentlich zugänglich und füge die URL hier ein. Verwende eine 1200 x 630 px Grafik, vorzugsweise PNG.",placeholder:"https://example.com/election-compass/social-media-image.png"},openGraphUrl:{name:"Open Graph Url",description:"Um sicher zu gehen, dass die korrekte URL in diversen sozialen Netzwerken verwendet wird, kannst du hier die URL setzen, unter der dein Wahlkompass zur Verfügung stehen wird.",placeholder:"https://example.com/election-compass"},"extract-languages":{name:"Sprachen auslagern",options:{yes:"Ja",no:"Nein"},description:"Standardmäßig werden alle Übersetzungen in die HTML-Datei eingebettet. Wenn du viele Sprachen verwendest, empfiehlt es sich, alle Sprachen außer der Standard-Sprache auszulagern. Dadurch werden zusätzliche Dateien generiert, welche auf Bedarf nachgeladen werden."},"main-language":{name:"Standard-Sprache",description:"Die Übersetzungen der Standard-Sprache werden weiterhin eingebettet, alle übrigen werden ausgelagert."},configuration:{name:"Konfigurationsdatei",description:"Eine Konfigurationddatei im JSON Dateiformat. Du kannst sie von Hand schreiben, oder den Konfigurations Editor verwenden."}}}}}},B=t(45),T=Object(B.a)(C,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(n){var i=n.invalid;return[t("fieldset",[t("legend",[e._v(e._s(e.$t("file")))]),e._v(" "),t("FieldFile",{attrs:{alias:"configuration",name:e.$t("fields.configuration.name"),type:"file",rules:"ext:json",preview:"configuration",returnType:"text",description:e.$t("fields.configuration.description")},model:{value:e.rawConfigurationFile,callback:function(n){e.rawConfigurationFile=n},expression:"rawConfigurationFile"}})],1),e._v(" "),e.configuration?t("fieldset",[t("legend",[e._v(e._s(e.$t("options")))]),e._v(" "),t("FieldSelect",{attrs:{alias:"kioskMode",name:e.$t("fields.kioskMode.name"),rules:"",options:[{value:"off",name:e.$t("fields.kioskMode.options.off")},{value:"on",name:e.$t("fields.kioskMode.options.on")}],description:e.$t("fields.kioskMode.description")},model:{value:e.store.kioskMode,callback:function(n){e.$set(e.store,"kioskMode",n)},expression:"store.kioskMode"}}),e._v(" "),t("FieldSelect",{attrs:{alias:"friendsEnabled",name:e.$t("fields.friendsEnabled.name"),rules:"",options:[{value:"off",name:e.$t("fields.friendsEnabled.options.off")},{value:"on",name:e.$t("fields.friendsEnabled.options.on")}],description:e.$t("fields.friendsEnabled.description")},model:{value:e.store.friendsEnabled,callback:function(n){e.$set(e.store,"friendsEnabled",n)},expression:"store.friendsEnabled"}}),e._v(" "),t("FieldInput",{attrs:{alias:"friendsHost",name:e.$t("fields.friendsHost.name"),type:"text",rules:"",placeholder:e.$t("fields.friendsHost.placeholder"),description:e.$t("fields.friendsHost.description")},model:{value:e.store.friendsHost,callback:function(n){e.$set(e.store,"friendsHost",n)},expression:"store.friendsHost"}}),e._v(" "),t("FieldInput",{attrs:{alias:"friendsPort",name:e.$t("fields.friendsPort.name"),type:"text",rules:"numeric",placeholder:e.$t("fields.friendsPort.placeholder")},model:{value:e.store.friendsPort,callback:function(n){e.$set(e.store,"friendsPort",n)},expression:"store.friendsPort"}}),e._v(" "),t("FieldInput",{attrs:{alias:"friendsPath",name:e.$t("fields.friendsPath.name"),type:"text",rules:"",placeholder:e.$t("fields.friendsPath.placeholder")},model:{value:e.store.friendsPath,callback:function(n){e.$set(e.store,"friendsPath",n)},expression:"store.friendsPath"}})],1):e._e(),e._v(" "),e.configuration?t("fieldset",[t("legend",[e._v(e._s(e.$t("seo")))]),e._v(" "),t("LanguageSwitch",{attrs:{languages:e.languages,values:e.store.title},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.selected;return[t("FieldInput",{attrs:{alias:"title",name:e.$t("fields.title.name"),type:"text",rules:"required|min:10|max:200",placeholder:e.$t("fields.title.placeholder"),description:e.$t("fields.title.description")},model:{value:e.store.title[i],callback:function(n){e.$set(e.store.title,i,n)},expression:"store.title[selected]"}})]}}],null,!0)}),e._v(" "),t("LanguageSwitch",{attrs:{languages:e.languages,values:e.store.description},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.selected;return[t("FieldInput",{attrs:{alias:"description",name:e.$t("fields.description.name"),type:"text",rules:"required|min:10|max:200",placeholder:e.$t("fields.description.placeholder"),description:e.$t("fields.description.description")},model:{value:e.store.description[i],callback:function(n){e.$set(e.store.description,i,n)},expression:"store.description[selected]"}})]}}],null,!0)}),e._v(" "),t("FieldInput",{attrs:{alias:"openGraphImage",name:e.$t("fields.openGraphImage.name"),type:"text",rules:"",placeholder:e.$t("fields.openGraphImage.placeholder"),description:e.$t("fields.openGraphImage.description")},model:{value:e.store.openGraphImage,callback:function(n){e.$set(e.store,"openGraphImage",n)},expression:"store.openGraphImage"}}),e._v(" "),t("FieldInput",{attrs:{alias:"openGraphUrl",name:e.$t("fields.openGraphUrl.name"),type:"text",rules:"",placeholder:e.$t("fields.openGraphUrl.placeholder"),description:e.$t("fields.openGraphUrl.description")},model:{value:e.store.openGraphUrl,callback:function(n){e.$set(e.store,"openGraphUrl",n)},expression:"store.openGraphUrl"}})],1):e._e(),e._v(" "),e.configuration?t("fieldset",[t("legend",[e._v(e._s(e.$t("languages")))]),e._v(" "),t("FieldSelect",{attrs:{alias:"extractLanguages",name:e.$t("fields.extract-languages.name"),rules:"",options:[{value:"off",name:e.$t("fields.extract-languages.options.no")},{value:"on",name:e.$t("fields.extract-languages.options.yes")}],description:e.$t("fields.extract-languages.description")},model:{value:e.store.extractLanguages,callback:function(n){e.$set(e.store,"extractLanguages",n)},expression:"store.extractLanguages"}}),e._v(" "),"on"===e.store.extractLanguages?t("FieldSelect",{attrs:{alias:"mainLanguage",name:e.$t("fields.main-language.name"),rules:"",options:e.languages.map((function(e){return{value:e.uuid,name:e.name}})),description:e.$t("fields.main-language.description")},model:{value:e.store.mainLanguage,callback:function(n){e.$set(e.store,"mainLanguage",n)},expression:"store.mainLanguage"}}):e._e()],1):e._e(),e._v(" "),t("hr"),e._v(" "),null!==e.resultBlobUrl?t("a",{staticClass:"button",attrs:{disabled:i,href:e.resultBlobUrl,download:"on"===e.store.extractLanguages?e.$t("filename.zip"):e.$t("filename.html")}},[t("Icon",{attrs:{name:"download"}}),e._v(" "),t("span",[e._v(e._s(e.$t("download")))])],1):e._e()]}}])})}),[],!1,null,null,null);n.default=T.exports}}]);